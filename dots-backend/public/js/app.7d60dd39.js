(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)s=o[u],n[s]&&p.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},3164:function(t,e,a){},5046:function(t,e,a){"use strict";var i=a("3164"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=a("bc3a"),r=a.n(n),s="";r.a.defaults.headers.common["Authorization"]=localStorage.getItem("userToken");var o={baseURL:s},l=r.a.create(o);i["a"].prototype.$http=l,l.interceptors.request.use(function(t){return t.headers.Authorization=localStorage.getItem("userToken"),t},function(t){return Promise.reject(t)}),l.interceptors.response.use(function(t){var e=t.data,a=localStorage.getItem("userToken");return a||(r.a.defaults.headers.common["Authorization"]=e),e&&"string"===typeof e&&localStorage.setItem("userToken",e),t},function(t){return Promise.reject(t)}),Plugin.install=function(t,e){t.axios=l,window.axios=l,Object.defineProperties(t.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},d=[],u={data:function(){return{}}},p=u,m=a("2877"),v=Object(m["a"])(p,c,d,!1,null,null,null),h=v.exports,f=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:"",height:"130"}},[a("v-toolbar-title",{staticClass:"display-2 ml-12 pt-12 pb-8"},[a("span",{staticClass:"font-weight-medium",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({name:"index"})}}},[t._v("DoTS")])]),a("v-spacer"),a("v-toolbar-items",{staticClass:"mr-12 pt-12 pb-8"},[a("v-btn",{staticClass:"headline",attrs:{text:""},on:{click:function(e){return t.$router.push({name:"about"})}}},[t._v("About")]),a("v-btn",{staticClass:"headline",attrs:{text:""},on:{click:function(e){return t.$router.push({name:"features"})}}},[t._v("Features")]),a("v-btn",{staticClass:"headline",attrs:{text:""},on:{click:function(e){return t.$router.push({name:"pricing"})}}},[t._v("Pricing")]),a("v-btn",{staticClass:"headline",attrs:{text:""},on:{click:function(e){return t.$router.push({name:"help"})}}},[t._v("Help")]),a("v-btn",{staticClass:"headline font-weight-bold blue--text text--darken-4 ml-4",attrs:{color:"white",dark:""},on:{click:function(e){return t.$router.push({name:"login"})}}},[t._v("로그인")])],1)],1),a("v-content",[a("div",[a("router-view")],1)])],1)},b=[],_=a("6544"),w=a.n(_),k=a("7496"),x=a("40dc"),y=a("8336"),C=a("a75b"),N=a("2fa4"),j=a("2a7f"),V={},S=Object(m["a"])(V,g,b,!1,null,null,null),$=S.exports;w()(S,{VApp:k["a"],VAppBar:x["a"],VBtn:y["a"],VContent:C["a"],VSpacer:N["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"ma-12"},[a("div",{staticClass:"display-3 font-weight-bold",staticStyle:{"line-height":"150%"}},[t._v("\n      자료 수집,\n      "),a("br"),t._v("이젠 전략적으로 하자\n    ")]),a("br"),a("div",{staticClass:"display-1 font-weight-medium"},[t._v("팀 프로젝트를 위한 체계적이고 효율적인 협업 툴, DoTS")]),a("div",{staticClass:"display-1 font-weight-light grey--text"},[t._v("Digitalization of Thinking Strategy")])])],1)},E=[],I=a("a523"),T={},D=Object(m["a"])(T,L,E,!1,null,null,null),R=D.exports;w()(D,{VApp:k["a"],VContainer:I["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"ma-12"},[a("div",{staticClass:"display-3 font-weight-medium"},[t._v("About Page")])])],1)},O=[],A={},P=Object(m["a"])(A,U,O,!1,null,null,null),z=P.exports;w()(P,{VApp:k["a"],VContainer:I["a"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"ma-12"},[a("div",{staticClass:"display-3 font-weight-medium"},[t._v("Features Page")])])],1)},q=[],F={},B=Object(m["a"])(F,M,q,!1,null,null,null),K=B.exports;w()(B,{VApp:k["a"],VContainer:I["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"ma-12"},[a("div",{staticClass:"display-3 font-weight-medium"},[t._v("Pricing Page")])])],1)},H=[],Q={},Z=Object(m["a"])(Q,W,H,!1,null,null,null),J=Z.exports;w()(Z,{VApp:k["a"],VContainer:I["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"ma-12"},[a("div",{staticClass:"display-3 font-weight-medium"},[t._v("Help Page")])])],1)},G=[],Y={},tt=Object(m["a"])(Y,X,G,!1,null,null,null),et=tt.exports;w()(tt,{VApp:k["a"],VContainer:I["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"transparent",flat:"",height:"130"}},[a("v-toolbar-title",{staticClass:"display-2 ml-12 pt-12 pb-8"},[a("span",{staticClass:"font-weight-medium",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({name:"index"})}}},[t._v("DoTS")]),a("span",{staticClass:"font-weight-light mx-6"},[t._v("|")]),a("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"2.5rem"}},[t._v("로그인")])]),a("v-spacer"),a("v-toolbar-items",{staticClass:"mr-12 pt-12 pb-8"},[a("v-btn",{staticClass:"headline font-weight-bold blue darken-4",attrs:{dark:""},on:{click:function(e){return t.$router.push({name:"signup"})}}},[t._v("회원가입")])],1)],1),a("v-content",[a("router-view")],1)],1)},it=[],nt={},rt=Object(m["a"])(nt,at,it,!1,null,null,null),st=rt.exports;w()(rt,{VApp:k["a"],VAppBar:x["a"],VBtn:y["a"],VContent:C["a"],VSpacer:N["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{xl3:"",lg3:"",sm5:""}},[a("v-form",[a("v-text-field",{attrs:{label:"이메일",required:"","single-line":"",solo:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"비밀번호",required:"","single-line":"",solo:"","append-icon":t.visibility?"mdi-eye":"mdi-eye-off",type:t.visibility?"text":"password"},on:{"click:append":function(e){t.visibility=!t.visibility}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{color:"success",tile:"",text:"",disabled:!t.email||!t.password},on:{click:t.onSubmit,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}}},[t._v("로그인")])],1)],1)],1)],1)],1)},lt=[],ct={data:function(){return{email:"",password:"",visibility:!1}},methods:{onSubmit:function(){var t=this;localStorage.getItem("extensionId")?this.$http.post("/users/login",{email:this.email,password:this.password}).then(function(e){t.email="",t.password="",e.data.error?alert(e.data.error):(localStorage.setItem("userToken",e.data),t.$router.push({name:"user"}))}).catch(function(t){console.log(t)}):alert("크롬 확장프로그램이 설치되어 있지 않습니다. 설치 후 다시 로그인해주세요.")}}},dt=ct,ut=a("0e8f"),pt=a("4bd4"),mt=a("a722"),vt=a("8654"),ht=Object(m["a"])(dt,ot,lt,!1,null,null,null),ft=ht.exports;w()(ht,{VBtn:y["a"],VContainer:I["a"],VFlex:ut["a"],VForm:pt["a"],VLayout:mt["a"],VTextField:vt["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"transparent",flat:"",height:"130"}},[a("v-toolbar-title",{staticClass:"display-2 ml-12 pt-12 pb-8"},[a("span",{staticClass:"font-weight-medium",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({name:"index"})}}},[t._v("DoTS")]),a("span",{staticClass:"font-weight-light mx-6"},[t._v("|")]),a("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"2.5rem"}},[t._v("회원가입")])]),a("v-spacer"),a("v-toolbar-items",{staticClass:"mr-12 pt-12 pb-8"},[a("v-btn",{staticClass:"headline font-weight-bold blue darken-4",attrs:{dark:""},on:{click:function(e){return t.$router.push({name:"login"})}}},[t._v("로그인")])],1)],1),a("v-content",[a("router-view")],1)],1)},bt=[],_t={},wt=Object(m["a"])(_t,gt,bt,!1,null,null,null),kt=wt.exports;w()(wt,{VApp:k["a"],VAppBar:x["a"],VBtn:y["a"],VContent:C["a"],VSpacer:N["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-flex",{attrs:{xl3:"",lg3:"",sm5:""}},[a("v-form",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{"error-messages":t.errors.collect("email"),"data-vv-name":"email",label:"이메일",required:"","single-line":"",solo:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"password",attrs:{"error-messages":t.errors.collect("password"),"data-vv-name":"password",label:"비밀번호",required:"","single-line":"",solo:"","append-icon":t.visibility1?"mdi-eye":"mdi-eye-off",type:t.visibility1?"text":"password"},on:{"click:append":function(e){t.visibility1=!t.visibility1}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{"error-messages":t.errors.collect("passwordConfirm"),"data-vv-name":"passwordConfirm",label:"비밀번호 확인",required:"","single-line":"",solo:"","append-icon":t.visibility2?"mdi-eye":"mdi-eye-off",type:t.visibility2?"text":"password"},on:{"click:append":function(e){t.visibility2=!t.visibility2}},model:{value:t.form.passwordConfirm,callback:function(e){t.$set(t.form,"passwordConfirm",e)},expression:"form.passwordConfirm"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":t.errors.collect("lastName"),"data-vv-name":"lastName",label:"성",required:"","single-line":"",solo:""},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}}),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":t.errors.collect("firstName"),"data-vv-name":"firstName",label:"이름",required:"","single-line":"",solo:""},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),a("v-layout",{staticClass:"text-center"},[a("v-btn",{attrs:{color:"info",tile:""},on:{click:t.onClear}},[t._v("초기화")]),a("v-spacer"),a("v-btn",{attrs:{color:"success",tile:""},on:{click:t.onSubmit}},[t._v("회원가입")])],1)],1)],1)],1)],1)},yt=[],Ct=a("3100"),Nt=a.n(Ct),jt={$_veeValidate:{validator:"new"},data:function(){return{form:{email:"",password:"",passwordConfirm:"",firstName:"",lastName:"",color:""},dictionary:{messages:Nt.a.messages,attributes:{email:"이메일 ",password:"비밀번호 ",passwordConfirm:"비밀번호 확인 ",firstName:"이름 ",lastName:"성 "}},custom:{},visibility1:!1,visibility2:!1}},mounted:function(){this.$validator.localize("ko",this.dictionary)},methods:{onSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)throw new Error("모든 항목을 양식에 맞게 기입해주세요.");return t.getPersonalColor(),t.$http.post("/users/signup",t.form)}).then(function(e){if(!e)throw new Error("서버에서 요청을 거부했습니다.");alert("회원가입이 완료되었습니다. 로그인 화면으로 이동합니다."),t.$router.push({name:"login"})}).catch(function(t){alert(t.message)})},onClear:function(){this.form.email="",this.form.password="",this.form.passwordConfirm="",this.form.firstName="",this.form.lastName="",this.$validator.reset()},getPersonalColor:function(){var t=a("fd9b");this.form.color=t({luminosity:"bright"})}}},Vt=jt,St=Object(m["a"])(Vt,xt,yt,!1,null,null,null),$t=St.exports;w()(St,{VBtn:y["a"],VContainer:I["a"],VFlex:ut["a"],VForm:pt["a"],VLayout:mt["a"],VSpacer:N["a"],VTextField:vt["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:""}},[a("v-toolbar-title",{staticClass:"headline"},[a("span",{staticClass:"font-weight-medium"},[t._v("DoTS")])]),a("v-spacer"),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{color:t.user.color}},i),[a("span",[t._v(t._s(t.user.lastName.charAt(0)))])])]}}])},[a("v-list",t._l(t.items,function(e,i){return a("v-list-item",{key:i,attrs:{disabled:e.disabled},on:{click:e.action}},[a("v-list-item-title",[t._v(t._s(e.title))])],1)}),1)],1)],1),a("v-content",[a("br"),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xl10:"",lg10:"",sm10:""}},[a("router-view",{attrs:{user:t.user}})],1)],1)],1)],1)},Et=[],It=a("04e1"),Tt=a.n(It),Dt={data:function(){return{user:{firstName:"",lastName:"",email:"",color:""},items:[{title:"계정 관리",action:"",disabled:!0},{title:"로그아웃",action:this.signout,disabled:!1}]}},created:function(){var t=localStorage.getItem("userToken");t||this.signout();var e=Tt()(t);this.user.firstName=e.first_name,this.user.lastName=e.last_name,this.user.email=e.email,this.user.color=e.color},methods:{signout:function(){this.$store.commit("deleteToken"),this.$router.push({name:"index"})}}},Rt=Dt,Ut=a("8212"),Ot=a("8860"),At=a("da13"),Pt=a("5d23"),zt=a("e449"),Mt=a("269a"),qt=a.n(Mt),Ft=a("5607"),Bt=Object(m["a"])(Rt,Lt,Et,!1,null,null,null),Kt=Bt.exports;w()(Bt,{VApp:k["a"],VAppBar:x["a"],VAvatar:Ut["a"],VContent:C["a"],VFlex:ut["a"],VLayout:mt["a"],VList:Ot["a"],VListItem:At["a"],VListItemTitle:Pt["c"],VMenu:zt["a"],VSpacer:N["a"],VToolbarTitle:j["b"]}),qt()(Bt,{Ripple:Ft["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"content-index",attrs:{"grid-list-xl":"","grid-list-lg":""}},[a("div",[a("span",{staticClass:"display-1 font-weight-bold"},[t._v(t._s(t.user.firstName))]),a("span",{staticClass:"display-1 font-weight-light"},[t._v("님의 프로젝트")])]),a("br"),a("div",[a("v-layout",{attrs:{wrap:""}},[t._l(t.projects,function(e){return a("div",{key:e.project_id,staticClass:"ma-0"},[t._l(e.members,function(i){return[i.verified&&i.email===t.user.email?a("v-hover",{key:i.email,scopedSlots:t._u([{key:"default",fn:function(i){var n=i.hover;return[a("v-card",{staticClass:"ma-2",attrs:{width:"350","min-height":"300",tile:"",elevation:n?12:2}},[a("v-img",{staticClass:"white--text",attrs:{height:"200px",src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}},[a("v-card-title",{staticClass:"align-end fill-height"},[t._v(t._s(e.project_name))])],1),a("v-card-text",[a("span",{staticClass:"subtitle-1"},[t._v(t._s(e.team_name))]),a("br"),a("span",{staticClass:"text--primary"},[a("span",[t._v(t._s(e.description))])])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",tile:"",color:"blue darken-4"},on:{click:function(a){return t.$router.push({path:"/project/"+e.project_id})}}},[t._v("프로젝트 시작")]),a("v-spacer"),t.user.email===e.founder_email?a("v-btn",{attrs:{text:"",tile:"",color:"red"},on:{click:function(a){return a.stopPropagation(),t.clickedProject(e.project_name)}}},[t._v("삭제")]):t._e()],1)],1)]}}],null,!0)}):t._e()]})],2)}),a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"ma-2 d-flex text-center align-center",staticStyle:{cursor:"pointer"},attrs:{width:"350","min-height":"300",tile:"",elevation:i?12:2},on:{click:t.createProject}},[a("v-card-text",[a("v-icon",{attrs:{color:"blue darken-4","x-large":""}},[t._v("mdi-plus")]),a("br"),a("br"),a("span",{staticClass:"headline"},[t._v("새 프로젝트 생성")])],1)],1)]}}])})],2)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.removeDialog,callback:function(e){t.removeDialog=e},expression:"removeDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"headline"},[t._v("해당 프로젝트를 삭제하시겠습니까?")]),a("v-card-text",{staticClass:"headline font-weight-bold blue--text text--darken-4",attrs:{color:"blue darken-4"}},[t._v(t._s(t.currentProject))]),a("v-card-text",[t._v("\n          한 번 삭제한 프로젝트는 영원히 복구할 수 없습니다.\n          "),a("br"),t._v("그래도 삭제를 원하신다면, 아래 입력란에 프로젝트의 이름을 입력해주세요.\n        ")]),a("v-text-field",{staticClass:"mx-4",attrs:{"single-line":"","solo-inverted":""},model:{value:t.confirmStr,callback:function(e){t.confirmStr=e},expression:"confirmStr"}}),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"green darken-1",text:"",tile:""},on:{click:t.cancelRemove}},[t._v("취소")]),a("v-btn",{attrs:{color:"red darken-1",text:"",tile:""},on:{click:t.confirmRemove}},[t._v("확인")])],1)],1)],1)],1)],1)},Ht=[],Qt=(a("ac6a"),a("7514"),{props:{user:{type:Object}},data:function(){return{removeDialog:!1,currentProject:"",confirmStr:"",projects:[]}},created:function(){var t=this;this.$http.get("/projects",{params:{email:this.user.email}}).then(function(e){t.projects=e.data}).catch(function(t){console.log(t)})},methods:{createProject:function(){var t=this;setTimeout(function(){t.$router.push({name:"create-project"})},100)},clickedProject:function(t){this.removeDialog=!0,this.currentProject=t},confirmRemove:function(){var t=this;if(this.currentProject===this.confirmStr){this.$http.delete("/data/".concat(this.currentProject,"_after_data")).then(function(t){}).catch(function(t){console.log(t)});var e=this.projects.find(function(e){return e.project_name===t.currentProject});e.members.forEach(function(e){t.$http.delete("/data/".concat(t.currentProject,"_").concat(e.email)).then(function(t){}).catch(function(t){console.log(t)})}),this.$http.delete("/projects/".concat(this.currentProject)).then(function(t){}).catch(function(t){console.log(t)}),this.cancelRemove(),history.go(0)}},cancelRemove:function(){this.removeDialog=!1,this.confirmStr="",this.currentProject=""}}}),Zt=Qt,Jt=a("b0af"),Xt=a("99d9"),Gt=a("169a"),Yt=a("ce87"),te=a("132d"),ee=a("adda"),ae=Object(m["a"])(Zt,Wt,Ht,!1,null,null,null),ie=ae.exports;w()(ae,{VApp:k["a"],VBtn:y["a"],VCard:Jt["a"],VCardActions:Xt["a"],VCardText:Xt["b"],VCardTitle:Xt["c"],VContainer:I["a"],VDialog:Gt["a"],VHover:Yt["a"],VIcon:te["a"],VImg:ee["a"],VLayout:mt["a"],VSpacer:N["a"],VTextField:vt["a"]}),qt()(ae,{Ripple:Ft["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{staticClass:"content-index",attrs:{"grid-list-xl":"","grid-list-lg":""}},[a("div",[a("span",{staticClass:"display-1 font-weight-bold"},[t._v("새 프로젝트 생성")]),a("br"),a("span",{staticClass:"display-1 font-weight-light"},[t._v("새 프로젝트의 정보를 입력하세요.")])]),a("br"),a("v-layout",[a("v-flex",{attrs:{xl6:"",lg9:"",sm12:""}},[a("v-form",[a("div",{staticClass:"headline"},[t._v("프로젝트 이름")]),a("div",{staticClass:"title-1 mb-2"},[t._v("새 프로젝트를 대표하는 이름입니다.")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"}],staticClass:"mb-2",attrs:{"error-messages":t.errors.collect("projectName"),"data-vv-name":"projectName",required:"","single-line":"",solo:""},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",e)},expression:"form.projectName"}}),a("div",{staticClass:"headline"},[t._v("프로젝트 설명")]),a("div",{staticClass:"title-1 mb-2"},[t._v("프로젝트에 대한 설명을 한 문장으로 요약해주세요.")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"max:30",expression:"'max:30'"}],staticClass:"mb-2",attrs:{"error-messages":t.errors.collect("description"),"data-vv-name":"description",counter:"30",maxlength:"30",solo:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),a("div",{staticClass:"headline"},[t._v("프로젝트 주제")]),a("div",{staticClass:"title-1 mb-2"},[t._v("프로젝트의 핵심 주제로, 루트 노드(레벨 0)의 이름이기도 합니다.")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mb-2",attrs:{"error-messages":t.errors.collect("topic"),"data-vv-name":"topic",required:"","single-line":"",solo:""},model:{value:t.form.topic,callback:function(e){t.$set(t.form,"topic",e)},expression:"form.topic"}}),a("div",{staticClass:"headline"},[t._v("팀 이름")]),a("div",{staticClass:"title-1 mb-2"},[t._v("프로젝트를 수행하는 팀의 이름입니다. 팀원은 나중에 추가할 수 있습니다.")]),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mb-2",attrs:{"error-messages":t.errors.collect("teamName"),"data-vv-name":"teamName",required:"","single-line":"",solo:""},model:{value:t.form.teamName,callback:function(e){t.$set(t.form,"teamName",e)},expression:"form.teamName"}}),a("v-layout",{staticClass:"text-center"},[a("v-btn",{attrs:{color:"info",tile:"",text:""},on:{click:t.onClear}},[t._v("초기화")]),a("v-spacer"),a("v-btn",{attrs:{color:"success",tile:"",text:""},on:{click:t.onSubmit}},[t._v("프로젝트 생성")])],1)],1)],1)],1)],1)],1)},re=[],se=(a("6b54"),{$_veeValidate:{validator:"new"},props:{user:{type:Object}},data:function(){return{form:{projectId:"",projectName:"",description:"",topic:"",teamName:"",user:this.user},dictionary:{messages:Nt.a.messages,attributes:{projectName:"프로젝트 이름 ",description:"프로젝트 설명 ",topic:"프로젝트 주제 ",teamName:"팀 이름 "}},custom:{}}},mounted:function(){this.$validator.localize("ko",this.dictionary)},methods:{onSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)throw new Error("모든 항목을 양식에 맞게 기입해주세요.");return t.form.projectId=Math.random().toString(36).substring(2,12),t.$http.get("/projects/find",{params:{id:t.form.projectId}})}).then(function(e){if(!e.data.id)throw new Error("서버에서 요청을 거부했습니다.");return t.form.projectId=e.data.id,t.$http.post("/projects/create",t.form)}).then(function(e){if(!e)throw new Error("서버에서 요청을 거부했습니다.");alert("프로젝트 생성이 완료되었습니다."),t.$router.push({name:"user"})}).catch(function(t){alert(t.message)})},onClear:function(){this.form.email="",this.form.password="",this.form.passwordConfirm="",this.form.firstName="",this.form.lastName="",this.$validator.reset()}}}),oe=se,le=Object(m["a"])(oe,ne,re,!1,null,null,null),ce=le.exports;w()(le,{VApp:k["a"],VBtn:y["a"],VContainer:I["a"],VFlex:ut["a"],VForm:pt["a"],VLayout:mt["a"],VSpacer:N["a"],VTextField:vt["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("nav-drawer",{attrs:{drawer:t.drawer,project:t.project},on:{update:t.updateDrawer}}),a("v-app-bar",{attrs:{app:"",color:"blue darken-4",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"headline"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.project.project_name))]),a("span",{staticClass:"font-weight-light"},[t._v(" by "+t._s(t.project.team_name))]),""!==t.currentMember?a("span",[a("span",{staticClass:"font-weight-light mx-6"},[t._v("->")]),a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.currentMember))]),a("span",{staticClass:"font-weight-light"},[t._v(" 님의 조사 기록")])]):t._e()])],1),a("v-content",[a("v-layout",{attrs:{"justify-center":""}},[t.isLoaded?a("print-node",{attrs:{project:t.project}}):t._e()],1)],1)],1)},ue=[],pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-app-bar",{staticClass:"text-center title font-weight-light",attrs:{color:"grey darken-3",dark:""}},[a("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{color:"white",size:"40"},on:{click:function(e){return t.getMemberCrawledData("","","")}}},i),[a("span",{staticClass:"black--text subtitle-2"},[t._v("ALL")])])]}}])},[a("span",[t._v("모든 데이터 보기")])]),t._l(t.project.members,function(e){return a("v-tooltip",{key:e.email,attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([e.verified?{key:"activator",fn:function(i){var n=i.on;return[a("span",t._g({staticClass:"font-weight-medium"},n),[a("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{color:e.color,size:"40"},on:{click:function(a){return t.getMemberCrawledData(e.email,e.first_name,e.last_name)}}},[a("span",{staticClass:"white--text subtitle-2"},[t._v(t._s(e.last_name.charAt(0)))])])],1)]}}:null],null,!0)},[e.verified?a("span",[t._v(t._s(e.first_name+" "+e.last_name))]):t._e(),a("br"),a("span",[t._v(t._s(e.email))])])}),a("v-spacer"),t._l(t.nodeFunctions,function(e){return a("v-tooltip",{key:e.name,attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:t.isCrawlingStarted,color:t.isCrawlingStarted||""!==t.currMember===""?"grey darken-1":"blue darken-3",size:"40"},on:{click:e.func}},n),[a("v-icon",[t._v(t._s(e.icon))])],1)]}}],null,!0)},[a("span",[t._v(t._s(e.name))])])}),""===t.currMember?a("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:t.isCrawlingStarted,color:"error",size:"40"},on:{click:t.truncate}},i),[a("v-icon",[t._v("mdi-delete-forever")])],1)]}}],null,!1,2689645394)},[a("span",[t._v("전체 데이터 초기화")])]):a("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mr-4",staticStyle:{cursor:"pointer"},attrs:{disabled:t.isCrawlingStarted,color:"error",size:"40"},on:{click:t.truncate}},i),[a("v-icon",[t._v("mdi-account-remove")])],1)]}}])},[a("span",[t._v("사용자 데이터 초기화")])]),t.isCrawlingStarted?a("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{color:"warning",size:"40"},on:{click:t.stopCrawling}},i),[a("v-icon",[t._v("mdi-pause")])],1)]}}])},[a("span",[t._v("크롤링 중지")])]):a("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-avatar",t._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{cursor:"pointer"},attrs:{disabled:""!==t.currMember,color:""!==t.currMember?"grey darken-1":"success",size:"40"},on:{click:t.startCrawling}},i),[a("v-icon",[t._v("mdi-play")])],1)]}}],null,!1,3966908082)},[a("span",[t._v("크롤링 시작")])]),a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",bottom:"",color:"blue darken-3"}})],2),a("v-layout",{staticClass:"d3-canvas",attrs:{"justify-center":""}},[a("d3-network",{attrs:{"net-nodes":t.nodes,"net-links":t.links,options:t.options},on:{"node-click":t.nodeClick,"link-click":t.linkClick}})],1),a("div",{staticClass:"popup"},[a("v-bottom-sheet",{attrs:{inset:""},model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[a("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue darken-4"}},[a("div",{staticClass:"display-1 white--text"},[t._v(t._s(t.pinnedNode.name.host))]),a("div",{staticClass:"headline grey--text text--lighten-1"},[t._v(t._s(t.pinnedNode.name.rest))])]),a("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue darken-3"}},[a("div",{staticClass:"title-1 font-weight-light grey--text text--lighten-2"},[t._v(t._s(t.pinnedNode.url))])]),a("v-sheet",{staticClass:"pa-6",attrs:{tile:"",color:"blue lighten-2"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("v-sheet",{staticClass:"headline",attrs:{tile:"",color:"blue lighten-2"}},[a("span",{staticClass:"font-weight-light"},[t._v("노드 ID:")]),a("span",{staticClass:"font-weight-medium ml-2"},[t._v(t._s(t.pinnedNode.id))])])],1),a("v-col",{attrs:{cols:"3"}},[a("v-sheet",{staticClass:"headline",attrs:{tile:"",color:"blue lighten-2"}},[a("span",{staticClass:"font-weight-light"},[t._v("노드 레벨:")]),a("span",{staticClass:"font-weight-medium ml-2"},[t._v(t._s(t.pinnedNode.level))])])],1),a("v-col",{attrs:{cols:"6"}},[t.pinnedNode.tagged?a("v-sheet",{staticClass:"headline",attrs:{tile:"",color:"blue lighten-2"}},[a("span",{staticClass:"font-weight-light"},[t._v("태그 표시 여부:")]),"True"===t.pinnedNode.tagged[0]?a("span",{staticClass:"font-weight-bold ml-2 green--text text--darken-2"},[t._v("TRUE")]):a("span",{staticClass:"font-weight-bold ml-2 red--text text--darken-3"},[t._v("FALSE")])]):t._e()],1)],1)],1),1!==t.pinnedNode.id?a("v-sheet",{staticClass:"pa-6",attrs:{tile:""}},[a("div",{staticClass:"headline font-weight-medium"},[t.pinnedNode.level>1?a("span",[t._v(t._s(t.pinnedNode.keyword.main))]):a("span",[t._v("연관 검색어")])]),a("div",{staticClass:"title font-weight-light"},[t.pinnedNode.level>1?a("div",{staticClass:"ma-0"},t._l(t.pinnedNode.keyword.sub,function(e,i){return a("span",{key:i},[t._v(t._s(e)),i!==t.pinnedNode.keyword.sub.length-1?a("span",[t._v(", ")]):t._e()])}),0):a("div",{staticClass:"ma-0"},t._l(t.pinnedNode.relativeKeywordList,function(e,i){return a("span",{key:i},[t._v(t._s(e)),i!==t.pinnedNode.relativeKeywordList.length-1?a("span",[t._v(", ")]):t._e()])}),0)])]):t._e(),t.pinnedNode.level>1?a("v-sheet",{staticClass:"pa-6",attrs:{tile:"",dark:"",color:"grey darken-2"}},t._l(t.pinnedNode.pageContents,function(e,i){return a("div",{key:i,staticClass:"subtitle-2 font-weight-light"},[t._v(t._s(e.length>50?e.substr(0,49).concat("..."):e)),a("br")])}),0):t._e(),""!==t.pinnedNode.memo?a("v-sheet",{staticClass:"pa-6",attrs:{tile:"",dark:"",color:"grey darken-3"}},[a("span",{staticClass:"headline font-weight-medium"},[t._v("MEMO")]),a("br"),a("span",{staticClass:"title font-weight-light"},[t._v(t._s(t.pinnedNode.memo))])]):t._e()],1)],1)],1)},me=[],ve=(a("456d"),a("7f7f"),a("28a5"),a("a5b7")),he=a.n(ve),fe=(a("72bf"),a("ac4d"),a("8a81"),{methods:{getNodeName:function(t,e){var a=decodeURI(e),i=[],n=[],r=!0,s=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;i.push(decodeURI(d))}}catch(u){s=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return a.length>50?(n.push(i[0]),i.length>1&&(n.push("/..."),n.join("").length<=50&&n.push(i[i.length-1]))):n.push(a),n.join("")}}}),ge={data:function(){return{nodes:[],links:[],nodeSize:30,fontSize:20,linkWidth:5,canvasWidth:window.innerWidth,canvasHeight:window.innerHeight-130,nodeIndex:0}},methods:{nodeClick:function(t,e){var a;0!==e.id&&(a=window.event?!!window.event.shiftKey:!!t.shiftKey,a?1!==e.id&&this.getRelevantNodes(e):(e.fx=e.x,e.fy=e.y,this.savePinnedNode(e),this.sheet=!this.sheet))},linkClick:function(t,e){console.log("selected: "+e.sid+" -> "+e.tid)}}},be=(a("20d6"),{data:function(){return{nodeFunctions:[{name:"파생 키워드 및 노드를 표시하려면 Shift 키를 누른 상태에서 노드를 클릭해주세요.",icon:"mdi-link-variant",func:function(){}},{name:"태그 표시된 노드 표시",icon:"mdi-tag-multiple",func:this.getTaggedNodes},{name:"다수 / 소수 구별",icon:"mdi-account-multiple-outline",func:this.distinguishNodes},{name:"최적 경로 표시",icon:"mdi-map-marker-path",func:this.getOptimizedNodes}]}},methods:{getMemberCrawledData:function(t,e,a){var i=this;this.isCrawlingStarted||(this.EventBus.$emit("sendMemberName",{memberFirstName:e,memberLastName:a}),this.currMember=t,this.resetNodes(),this.$http.get("/data",{params:{name:this.project.project_name,memberEmail:t}}).then(function(t){i.totalData=t.data,i.totalData.length>0&&i.initializeNodes()}).catch(function(t){console.log(t)}))},getTaggedNodes:function(){var t=this;""===this.currMember?(this.resetNodes(),this.$http.get("/data",{params:{name:this.project.project_name}}).then(function(e){t.totalData=e.data,t.totalData.length>0&&t.initializeNodes()}).then(function(e){var a=!1,i=[];t.nodes.forEach(function(e){if(e.tagged)if("True"!==e.tagged[0]){var n,r=t.links.filter(function(t){return t.sid===e.id}),s=t.links.find(function(t){return t.tid===e.id});console.log(r),console.log(s),r.forEach(function(e){console.log(e.source.name+" -X- "+e.target.name);var a=e.tid;n=t.links.findIndex(function(t){return t.sid===e.sid&&t.tid===e.tid}),t.links.splice(n,1),t.links.push({sid:s.sid,tid:a})}),n=t.links.findIndex(function(t){return t.sid===s.sid&&t.tid===s.tid}),t.links.splice(n,1),i.push(e.name)}else a=!0}),i.forEach(function(e){var a=t.nodes.findIndex(function(t){return t.name===e});t.nodes.splice(a,1)}),a||alert("태그 표시된 웹 페이지가 없습니다.")}).catch(function(t){console.log(t)})):alert("사용자 데이터에서는 확인할 수 없습니다.")},getRelevantNodes:function(t){var e=this;this.$http.get("/data/origin",{params:{name:this.project.project_name,founder:t.founder,currURL:t.currURL}}).then(function(t){t.data.forEach(function(t){var a=e.nodes.findIndex(function(e){return e.currURL===t.curr_url&&e.founder===t.founder});e.nodes[a]._color="yellow",1===e.nodes[a].level&&(e.nodes[a]._labelClass="derived")}),e.nodes[0]._color="yellow"}).catch(function(t){console.log(t)})},distinguishNodes:function(){var t=this;""===this.currMember?(this.resetNodes(),this.$http.get("/data",{params:{name:this.project.project_name}}).then(function(e){t.totalData=e.data,t.totalData.length>0&&t.initializeNodes()}).then(function(e){t.nodes.forEach(function(e){var a=t.links.findIndex(function(t){return t.tid===e.id});-1!==a&&(e.visitRate>=t.visitRateThreshold?t.links[a]._color="#0e01c466":t.links[a]._color="#c4010133")})}).catch(function(t){console.log(t)})):alert("사용자 데이터에서는 확인할 수 없습니다.")},getOptimizedNodes:function(){var t=this;""===this.currMember?this.$http.get("/data/recommendation",{params:{name:this.project.project_name}}).then(function(e){t.nodes.forEach(function(t){t._color="WhiteSmoke"}),e.data.forEach(function(e){t.optimizedNodes.push(e)});for(var a=[],i=1;i<t.nodes.length;i++){var n=t.nodes[i],r=t.optimizedNodes.find(function(t){return t.curr_url===n.currURL&&t.founder===n.founder});if(r)t.nodes[i]._color="yellow";else{var s,o=t.links.filter(function(t){return t.sid===n.id}),l=t.links.find(function(t){return t.tid===n.id});o&&o.forEach(function(e){console.log(e.source.name+" -X- "+e.target.name);var a=e.tid;s=t.links.findIndex(function(t){return t.sid===e.sid&&t.tid===e.tid}),t.links.splice(s,1),l&&t.links.push({sid:l.sid,tid:a})}),s=t.links.findIndex(function(t){return t.sid===l.sid&&t.tid===l.tid}),t.links.splice(s,1),a.push(t.nodes[i].id)}}a.forEach(function(e){var a=t.nodes.findIndex(function(t){return t.id===e});t.nodes.splice(a,1)}),t.nodes[0]._color="yellow"}).catch(function(t){console.log(t)}):alert("사용자 데이터에서는 확인할 수 없습니다.")}}}),_e="google",we={mixins:[fe,ge,be],components:{D3Network:he.a},props:{project:{type:Object}},data:function(){return{decoded:"",prevURL:"",currURL:"",prevQuery:"",sheet:!1,loading:!1,totalData:[],crawledData:{},isCrawlingStarted:!1,currMember:"",visitRateThreshold:.5,optimizedNodes:[],pinnedNode:{id:0,name:{host:"",rest:[]},level:0,paths:[],url:"",keyword:{main:"",sub:[]},tagged:"",memo:""}}},computed:{options:function(){return{force:4e3,size:{w:800,h:800},nodeSize:this.nodeSize,fontSize:this.fontSize,linkWidth:this.linkWidth,nodeLabels:!0,linkLabels:!0,canvas:!1}}},watch:{sheet:function(t){var e=this;if(!t){var a=this.nodes.find(function(t){return t.id===e.pinnedNode.id});this.nodes[a.id].fx=null,this.nodes[a.id].fy=null}}},created:function(){var t=this;this.decoded=Tt()(localStorage.getItem("userToken")),this.loading=!0,this.addZeroNode(),this.addInitialNodesAndLinks("","etc."),this.$http.get("/data",{params:{name:this.project.project_name}}).then(function(e){t.totalData=e.data,t.totalData.length>0&&(t.initializeNodes(),t.loading=!1)}).catch(function(t){console.log(t)})},mounted:function(){var t=this;this.options.size.w=this.canvasWidth,this.options.size.h=this.canvasHeight,window.addEventListener("message",function(e){e.source==window&&e.data.type&&"getCrawledData"==e.data.type&&t.isCrawlingStarted&&(console.log("Received prevURL: "+e.data.prevURL),console.log("Received currURL: "+e.data.currURL),t.getCrawledData(e.data.prevURL,e.data.currURL))},!1)},methods:{startCrawling:function(){var t=this;this.isCrawlingStarted=!0,this.resetNodes(),this.$http.get("/data",{params:{name:this.project.project_name,memberEmail:this.decoded.email}}).then(function(e){t.totalData=e.data,t.totalData.length>0&&t.initializeNodes(),window.open("https://www.google.com")}).catch(function(t){console.log(t)})},stopCrawling:function(){var t=this;this.isCrawlingStarted=!1,this.loading=!0,this.$http.get("/data/stop",{params:{name:this.project.project_name}}).then(function(e){t.totalData=e.data,t.totalData.length>0&&(t.resetNodes(),t.initializeNodes(),t.loading=!1)}).catch(function(t){console.log(t)})},getCrawledData:function(t,e){var a=this;this.prevURL=t,this.currURL=e;var i,n=this.nodes.filter(function(t){return""===a.prevURL?"etc."===t.name.split(" ")[1]:t.currURL===a.prevURL});console.log(n),n.length>1?i=n.find(function(t){return t.founder===a.decoded.email}):1===n.length&&(i=n[0]);var r=i?i.level:1;this.$http.post("/data/node",{projectName:this.project.project_name,userEmail:this.decoded.email,userName:this.decoded.first_name+" "+this.decoded.last_name,prevURL:this.prevURL,currURL:this.currURL,parentLevel:r}).then(function(t){console.log(t),t.data.notUrl?t.data.isMainPage?(a.crawledData.level=t.data.level,a.crawledData.paths=t.data.paths):console.log("올바른 URL이 아닙니다."):(a.crawledData=t.data,a.crawledData.paths&&a.addNodesfromCrawledData(a.crawledData))}).catch(function(t){throw t})},truncate:function(){var t=this;confirm("모든 노드를 삭제하시겠습니까?")&&this.$http.delete("/data").then(function(e){t.resetNodes(),alert("모든 노드를 삭제했습니다.")}).catch(function(t){console.log(t)})},resetNodes:function(){this.nodes=[],this.links=[],this.nodeIndex=0,this.prevURL="",this.prevQuery="",this.addZeroNode(),this.addInitialNodesAndLinks("","etc.")},initializeNodes:function(){var t=this;this.totalData.forEach(function(e,a){t.addNodesfromCrawledData(e)})},addNodesfromCrawledData:function(t){var e="";-1!==t.paths[0].indexOf("www."+_e)?t.paths.length>1?(e=t.paths[1],this.prevQuery=e,this.addInitialNodesAndLinks(t,e)):this.prevQuery="":(-1!==this.prevURL.indexOf("www."+_e)?e=this.prevQuery:(this.prevQuery="",e="etc."),this.addInitialNodesAndLinks(t,e),this.addNodesAndLinks(t))},addZeroNode:function(){this.nodes.push({id:this.nodeIndex++,name:this.project.topic,_color:"#0D47A1",level:0,fx:this.canvasWidth/2,fy:this.canvasHeight/2}),this.nodes[0].pinned=!0},addInitialNodesAndLinks:function(t,e){var a=!1;""===e?a=!0:this.nodes.forEach(function(t,i){1===t.level&&t.name==="[1] ".concat(e)&&(a=!0)}),a||(this.nodes.push({id:this.nodeIndex++,name:"[1] ".concat(e),_color:"#64B5F6",level:1,founder:t.user_email,currURL:"etc."!==e?t.curr_url:e,paths:"etc."!==e?t.paths:null,keyword:"etc."!==e?t.keyword:"",subKeyword:"etc."!==e?t.sub_keyword:"",tagged:"etc."!==e?t.tagged:"",memo:"etc."!==e?t.memo:"",visitRate:t.visit_rate?t.visit_rate:0,relativeKeywordList:t.relativeKeywordList?t.relativeKeywordList:[],pageContents:[]}),console.log("Node created (idx, lv, name): "+(this.nodeIndex-1)+", 1, "+decodeURI(e)),this.links.push({sid:0,tid:this.nodeIndex-1,_svgAttrs:{"stroke-width":10,opacity:1}}),console.log("Link created : 0 -> "+(this.nodeIndex-1)))},addNodesAndLinks:function(t){var e,a=t.paths.join(""),i=-1,n=t.prev_url,r=this.nodes.find(function(e){return e.currURL===t.curr_url});if(-1!==n.indexOf("www."+_e)&&-1!==n.indexOf("/search?")){var s=new URL(n).searchParams.get("q");e=this.nodes.find(function(t){return t.paths?t.paths[1]===s:void 0})}else{var o=this.nodes.filter(function(t){return t.currURL===n});o.length>1?e=o.find(function(e){return e.founder===t.user_email}):1===o.length&&(e=o[0])}if(r){var l=this.links.find(function(t){return t.tid===r.id});l.sid===e.id&&(i=l.tid)}if(-1===i){this.nodes.push({id:this.nodeIndex++,name:"[".concat(t.level,"] ").concat(this.getNodeName(t.paths,a)),level:t.level,founder:t.user_email,prevURL:t.prev_url,currURL:t.curr_url,paths:t.paths,keyword:t.keyword,subKeyword:t.sub_keyword,tagged:t.tagged,memo:t.memo,visitRate:t.visit_rate?t.visit_rate:0,relativeKeywordList:{},pageContents:t.pageContents?t.pageContents:[]}),console.log("Node created (idx, lv, name): "+(this.nodeIndex-1)+", "+t.level+", "+decodeURI(a));var c=e.id,d=this.nodeIndex-1;this.links.push({sid:c,tid:d}),console.log("Link created : "+c+" -> "+d)}},savePinnedNode:function(t){this.pinnedNode.id=t.id,this.pinnedNode.level=t.level,this.pinnedNode.paths=t.paths,this.pinnedNode.url="etc."!==t.currURL?decodeURI(t.currURL):"Google 검색 결과 페이지를 거치지 않고 접속한 페이지들이 하위 노드로 생성됩니다.",this.pinnedNode.name={host:t.level>1?decodeURI(t.paths[0]):t.name.slice(t.name.indexOf(" ")+1),rest:t.level>1?decodeURI(t.paths.slice(1).join("")):""},this.pinnedNode.keyword.main=t.keyword,this.pinnedNode.keyword.sub=t.subKeyword,this.pinnedNode.tagged=t.tagged,this.pinnedNode.memo=t.memo,this.pinnedNode.visitRate=t.visitRate,this.pinnedNode.relativeKeywordList=Object.keys(t.relativeKeywordList),this.pinnedNode.pageContents=t.level>1?t.pageContents:[]}}},ke=we,xe=(a("5046"),a("288c")),ye=a("62ad"),Ce=a("8e36"),Ne=a("0fd9"),je=a("8dd9"),Ve=a("3a2f"),Se=Object(m["a"])(ke,pe,me,!1,null,null,null),$e=Se.exports;w()(Se,{VAppBar:x["a"],VAvatar:Ut["a"],VBottomSheet:xe["a"],VCol:ye["a"],VFlex:ut["a"],VIcon:te["a"],VLayout:mt["a"],VProgressLinear:Ce["a"],VRow:Ne["a"],VSheet:je["a"],VSpacer:N["a"],VTooltip:Ve["a"]}),qt()(Se,{Ripple:Ft["a"]});var Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{temporary:"",app:""},on:{transitionend:t.afterTransition},model:{value:t.navDrawer,callback:function(e){t.navDrawer=e},expression:"navDrawer"}},[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[t._v(t._s(t.project.team_name))])],1)],1),t._l(t.project.members,function(e){return[e.verified?a("v-list-item",{key:e.email,attrs:{"two-line":""}},[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:e.color}},[a("span",{staticClass:"white--text"},[t._v(t._s(e.last_name.charAt(0)))])])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),a("v-list-item-subtitle",[t._v(t._s(e.position))])],1)],1):t._e()]}),a("v-list-item",{on:{click:function(e){t.inviteDialog=!0}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-plus")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("팀원 초대")])],1)],1)],2),a("v-divider"),a("v-list",[a("v-list-item",{on:{click:function(e){return t.$router.push({name:"user"})}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("홈으로")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-settings")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("설정")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-help-circle")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("도움말")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-information")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("정보")])],1)],1)],1),a("v-footer",{staticClass:"mb-2 transparent body-2",attrs:{fixed:""}},[t._v("© "+t._s((new Date).getFullYear())+" DoTS. All rights reserved.")]),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.inviteDialog,callback:function(e){t.inviteDialog=e},expression:"inviteDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"headline"},[t._v("팀원 추가")]),a("v-card-text",[t._v("\n        새로운 팀원을 추가합니다. 추가하고자 하는 팀원의 이메일을 입력해주세요.\n        "),a("br"),t._v("해당 회원의 이메일로 초대 메일을 발송합니다.\n        "),a("br"),t._v("단, DoTS에 가입된 회원만 초대할 수 있습니다.\n      ")]),a("v-text-field",{staticClass:"mx-4",attrs:{"single-line":"","solo-inverted":""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findUser(e)}},model:{value:t.memberEmail,callback:function(e){t.memberEmail=e},expression:"memberEmail"}}),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"green darken-1",text:"",tile:""},on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v("취소")]),a("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(e){return e.stopPropagation(),t.findUser(e)}}},[t._v("이메일 전송")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.isUserNotValid,callback:function(e){t.isUserNotValid=e},expression:"isUserNotValid"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"headline"},[t._v("오류")]),a("v-card-text",[t._v("\n        가입된 회원이 아닙니다. 팀원 초대는 오직 가입된 회원에게만 할 수 있습니다.\n      ")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(e){e.stopPropagation(),t.isUserNotValid=!t.isUserNotValid}}},[t._v("확인")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.isEmailEmpty,callback:function(e){t.isEmailEmpty=e},expression:"isEmailEmpty"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"headline"},[t._v("오류")]),a("v-card-text",[t._v("\n        이메일을 입력해주세요.\n      ")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(e){e.stopPropagation(),t.isEmailEmpty=!t.isEmailEmpty}}},[t._v("확인")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.isSucceeded,callback:function(e){t.isSucceeded=e},expression:"isSucceeded"}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"headline"},[t._v("전송 완료")]),a("v-card-text",[t._v("\n        해당 회원의 이메일로 초대 메일이 발송되었습니다.\n      ")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-4",text:"",tile:""},on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v("확인")])],1)],1)],1)],1)},Ee=[],Ie={name:"nav-drawer",props:{project:{type:Object},drawer:{type:Boolean}},data:function(){return{inviteDialog:!1,memberEmail:"",isUserNotValid:!1,isEmailEmpty:!1,isSucceeded:!1,navDrawer:this.drawer,isDrawerOpened:!1}},watch:{drawer:function(t){this.navDrawer=t}},methods:{cancel:function(){this.inviteDialog=!1,this.isSucceeded=!1,this.memberEmail=""},findUser:function(){var t=this;""===this.memberEmail?this.isEmailEmpty=!0:this.$http.get("/users",{params:{email:this.memberEmail}}).then(function(e){if(!e.data)throw t.isUserNotValid=!0,new Error("Invalid user email");var a=Tt()(localStorage.getItem("userToken"));t.$http.post("/mail/invite",{email:t.memberEmail,sender:a,newMember:e.data,project:t.project})}).then(function(e){t.isSucceeded=!0}).catch(function(t){console.log(t)})},afterTransition:function(){this.isDrawerOpened?(this.$emit("update"),this.isDrawerOpened=!1):this.isDrawerOpened=!0}}},Te=Ie,De=a("ce7e"),Re=a("553a"),Ue=a("8270"),Oe=a("34c3"),Ae=a("f774"),Pe=Object(m["a"])(Te,Le,Ee,!1,null,null,null),ze=Pe.exports;w()(Pe,{VAvatar:Ut["a"],VBtn:y["a"],VCard:Jt["a"],VCardActions:Xt["a"],VCardText:Xt["b"],VCardTitle:Xt["c"],VDialog:Gt["a"],VDivider:De["a"],VFooter:Re["a"],VIcon:te["a"],VList:Ot["a"],VListItem:At["a"],VListItemAvatar:Ue["a"],VListItemContent:Pt["a"],VListItemIcon:Oe["a"],VListItemSubtitle:Pt["b"],VListItemTitle:Pt["c"],VNavigationDrawer:Ae["a"],VTextField:vt["a"]});var Me={name:"App",components:{PrintNode:$e,NavDrawer:ze},data:function(){return{drawer:!1,isLoaded:!1,project:{},currentMember:""}},created:function(){var t=this,e=localStorage.getItem("extensionId");chrome.runtime.sendMessage(e,{currProject:this.project.project_name}),this.$http.get("/projects/current",{params:{id:this.$route.params.id}}).then(function(e){t.project=e.data,t.isLoaded=!0}).catch(function(t){console.log(t)})},mounted:function(){var t=this;this.EventBus.$on("sendMemberName",function(e){e.memberFirstName||e.memberLastName?t.currentMember=e.memberFirstName+" "+e.memberLastName:t.currentMember=""})},methods:{updateDrawer:function(){this.drawer=!this.drawer}}},qe=Me,Fe=a("5bc1"),Be=Object(m["a"])(qe,de,ue,!1,null,null,null),Ke=Be.exports;w()(Be,{VApp:k["a"],VAppBar:x["a"],VAppBarNavIcon:Fe["a"],VContent:C["a"],VLayout:mt["a"],VToolbarTitle:j["b"]});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"content-index text-center mt-12"},[a("div",{staticClass:"display-1"},[a("span",{staticClass:"font-weight-light"},[t._v("원활한 프로젝트 진행을 위해서는 ")]),a("span",{staticClass:"font-weight-bold"},[t._v("확장 프로그램")]),a("span",{staticClass:"font-weight-light"},[t._v("의 설치가 필요합니다.")]),a("br"),a("br"),a("span",{staticClass:"font-weight-light"},[t._v("확장 프로그램을 설치하시고 다시 로그인해주세요.")]),a("br"),a("br"),a("v-btn",{staticClass:"headline",attrs:{color:"blue darken-4",tile:"",large:"",dark:""},on:{click:t.download}},[t._v("다운로드")])],1)])},He=[],Qe={props:{user:{type:Object}},methods:{download:function(){window.open("https://github.com/sckroll/DoTS-Chrome")}}},Ze=Qe,Je=Object(m["a"])(Ze,We,He,!1,null,null,null),Xe=Je.exports;w()(Je,{VBtn:y["a"],VContainer:I["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Ye=[],ta={mounted:function(){var t=this,e=localStorage.getItem("userToken");e?this.$http.get("/projects/auth",{params:{project:this.$route.query.project,member:this.$route.query.member,token:this.$route.query.token,userEmail:Tt()(e).email}}).then(function(t){if(t.data.errorMessage)throw new Error(t.data.errorMessage);alert("프로젝트 팀원 등록이 완료되었습니다.")}).catch(function(t){alert(t)}).then(function(){t.$router.push({name:"user"})}):(alert("로그인이 필요합니다. 로그인 후에 다시 링크를 클릭해주세요."),this.$router.push({name:"login"}))}},ea=ta,aa=Object(m["a"])(ea,Ge,Ye,!1,null,null,null),ia=aa.exports;i["a"].use(f["a"]);var na="",ra=localStorage.getItem("extensionId"),sa=function(t,e,a){r.a.post("".concat(na,"/users/verify"),{headers:{Authorization:localStorage.getItem("userToken")}}).then(function(t){t.data.message&&("jwt expired"===t.data.message&&alert("로그인 시간이 만료되었습니다. 다시 로그인해주세요."),"jwt malformed"===t.data.message&&alert("오류가 발생하였습니다. 다시 로그인해주세요."),localStorage.removeItem("userToken"),chrome.runtime.sendMessage(ra,{userToken:"logout"},function(t){console.log(t.result)}),a("/"));var e=localStorage.getItem("userToken");chrome.runtime.sendMessage(ra,{userToken:e},function(t){chrome.runtime.lastError?a("/need-extension"):(console.log(t.result),-1!==location.href.indexOf("/need-extension")&&a("/p"))}),a()}).catch(function(t){throw t})},oa=new f["a"]({mode:"history",base:"/",routes:[{path:"/",component:$,beforeEnter:function(t,e,a){if(localStorage.getItem("userToken"))return a("/p");a()},children:[{path:"",name:"index",component:R},{path:"/about",name:"about",component:z},{path:"/features",name:"features",component:K},{path:"/pricing",name:"pricing",component:J},{path:"/help",name:"help",component:et}]},{path:"/login",component:st,beforeEnter:function(t,e,a){if(localStorage.getItem("userToken"))return a("/p");a()},children:[{path:"",name:"login",component:ft}]},{path:"/signup",component:kt,beforeEnter:function(t,e,a){if(localStorage.getItem("userToken"))return a("/p");a()},children:[{path:"",name:"signup",component:$t}]},{path:"/project/:id",name:"project",component:Ke,beforeEnter:sa},{path:"/p",component:Kt,beforeEnter:sa,children:[{path:"",name:"user",component:ie},{path:"/p/create-project",name:"create-project",component:ce},{path:"/need-extension",name:"need-extension",component:Xe}]},{path:"/auth",component:ia},{path:"/*",redirect:"/"}]}),la=a("2f62");i["a"].use(la["a"]);var ca=new la["a"].Store({state:{token:localStorage.getItem("userToken")},getters:{},mutations:{getToken:function(t){t.token=localStorage.getItem("userToken")},deleteToken:function(t){localStorage.removeItem("userToken"),t.token=null;var e=localStorage.getItem("extensionId");chrome.runtime.sendMessage(e,{userToken:"logout"},function(t){console.log(t.result)})}},actions:{}}),da=a("f309");i["a"].use(da["a"]);var ua=new da["a"]({icons:{iconfont:"mdi"}}),pa=a("7bb1");i["a"].use(pa["a"]),i["a"].config.productionTip=!1,i["a"].prototype.EventBus=new i["a"],new i["a"]({router:oa,store:ca,vuetify:ua,render:function(t){return t(h)}}).$mount("#app")}});
//# sourceMappingURL=app.7d60dd39.js.map